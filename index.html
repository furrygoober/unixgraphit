<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Unixgraphit by furrygoober</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Unixgraphit</h1>
      <h2 class="project-tagline">Graphing text based data</h2>
      <a href="https://github.com/furrygoober/unixgraphit" class="btn">View on GitHub</a>
      <a href="https://github.com/furrygoober/unixgraphit/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/furrygoober/unixgraphit/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="unixgraphit" class="anchor" href="#unixgraphit" aria-hidden="true"><span class="octicon octicon-link"></span></a>Unixgraphit</h1>

<h6>
<a id="quick-and-dirty-graphing-of-text-based-data" class="anchor" href="#quick-and-dirty-graphing-of-text-based-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick and dirty graphing of text based data.</h6>

<p>I am primarily a UNIX system admin, with some questionable scripting skills. 
The main goals for writing this script were to learn, have fun, and help troubleshoot issues at work.
Hopefully a few other people out there may find this script useful.</p>

<p>Due to environmental limitations the requirements are limited to: Python Standard Library + python matplotlib library.</p>

<p>You should be able to throw a wide range of text base numbers at this thing and get some graphs. (mpstat, vmstat, iostat, nicstat, prstat, pidstat, fsstat, intrstat, sar, etc)</p>

<p>The detailed labels file (labels.txt) is very limited, maybe someday I'll expand it.</p>

<p>If anyone takes up the mantel and does any fixes/additions to the script please let me know where to grab the improved files :)</p>

<h3>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h3>

<pre><code>usage: unix_graphit.py [-h] [-v] [-t] -of OUTFILE [-if INFILE] [-l LABELFILE]
                       [-q] [-d] [-c] [-F FIELD] [-ds DATESTRING]
                       [-df DATEFORMAT]

Process and plot text data. (ie: output from sysstat utils)

optional arguments:
  -h, --help            show this help message and exit
  -v, --version         show program's version number and exit
  -t, --transpose       Used to transpose data, example data type: intrstat
  -of OUTFILE, --outfile OUTFILE
                        Name of the pdf to store the graph(s) in
  -if INFILE, --infile INFILE
                        Name of the file to load stat data from
  -l LABELFILE, --labelfile LABELFILE
                        Name of file to load more detailed graph labels
  -q, --quiet           Supress log output
  -d, --debug           Increase log verbosity
  -c, --customy         NOT IMPLEMENTED: Plot custom y function
  -F FIELD, --field FIELD
                        Data field separator. Default is white space
  -ds DATESTRING, --datestring DATESTRING
                        String to use to import dates. Default: %H:%M:%S
                        Options: %Y: YYYY, %y: YY, %m: MM, %d: DD, %H, %M, %S
  -df DATEFORMAT, --dateformat DATEFORMAT
                        String to use to display dates on the graphs, defaults
                        to datestring
</code></pre>

<h3>
<a id="caveats" class="anchor" href="#caveats" aria-hidden="true"><span class="octicon octicon-link"></span></a>Caveats</h3>

<ul>
<li>When using data like mpstat (or any data) make sure all sections of data are complete, or it will spit out a bunch of errors about x and y not matching. ie. If your system has 24 cpus, make sure the last section of the mpstat data has lines for all 24 cpus.</li>
<li>stuff</li>
</ul>

<h2>
<a id="example-output" class="anchor" href="#example-output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example output</h2>

<h5>
<a id="sysperf" class="anchor" href="#sysperf" aria-hidden="true"><span class="octicon octicon-link"></span></a>sysperf</h5>

<p><a href="https://github.com/furrygoober/unixgraphit/files/29448/sysperf.pdf">https://github.com/furrygoober/unixgraphit/files/29448/sysperf.pdf</a></p>

<h5>
<a id="mpstat" class="anchor" href="#mpstat" aria-hidden="true"><span class="octicon octicon-link"></span></a>mpstat</h5>

<p><a href="https://github.com/furrygoober/unixgraphit/files/29449/mpstat.pdf">https://github.com/furrygoober/unixgraphit/files/29449/mpstat.pdf</a></p>

<h5>
<a id="vmstat" class="anchor" href="#vmstat" aria-hidden="true"><span class="octicon octicon-link"></span></a>vmstat</h5>

<p><a href="https://github.com/furrygoober/unixgraphit/files/29450/vmstat.pdf">https://github.com/furrygoober/unixgraphit/files/29450/vmstat.pdf</a></p>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<h5>
<a id="example-via-unix-shell-piping-vmstat-output-to-the-script-and-save-the-output" class="anchor" href="#example-via-unix-shell-piping-vmstat-output-to-the-script-and-save-the-output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: via unix shell piping vmstat output to the script and save the output</h5>

<pre><code>cat vmstat.data.txt | ./unix_graphit.py -of vmstat.pdf

...
Line: 1
['r', 'b', 'w', 'swap', 'free', 're', 'mf', 'pi', 'po', 'fr', 'de', 'sr', 's0', 's1', 's3', 's4', 'in', 'sy', 'cs', 'us', 'sy', 'id']

Line: 2
[5.0, 0.0, 0.0, 7779448.0, 8687968.0, 136.0, 1110.0, 64.0, 92.0, 98.0, 0.0, 2025.0, 97.0, -0.0, 68.0, 7.0, 17119.0, 30322.0, 19241.0, 18.0, 6.0, 76.0]


Select line number of header row: 1

Select line number of data row: 2

...
Field: 21: id
Field: 22: Interval: each line is a new data sample


Select x axis. (ie: Date, or Interval): 22

Select multi-item x axis field # (ie: mpstat: CPU) or n/N for none: n

Select y axis numbers NOT to graph seperated by a space: ['22', 'n']
</code></pre>

<h5>
<a id="example-load-mpstat-data-from-a-file-load-detailed-labels-and-graph-the-data" class="anchor" href="#example-load-mpstat-data-from-a-file-load-detailed-labels-and-graph-the-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: load mpstat data from a file, load detailed labels and graph the data</h5>

<pre><code>./unix_graphit.py -if mpstat.data.txt -of mpstat.pdf -l labels.txt

...
Line: 0
['Tue', 'Nov', 3.0, '10:00:49', 'EST', 2015.0, 0.0, 88.0, 2.0, 179.0, 1579.0, 583.0, 2156.0, 95.0, 299.0, 968.0, 5.0, 3151.0, 22.0, 6.0, 0.0, 72.0]

Line: 1
['Tue', 'Nov', 3.0, '10:00:49', 'EST', 2015.0, 'CPU', 'minf', 'mjf', 'xcal', 'intr', 'ithr', 'csw', 'icsw', 'migr', 'smtx', 'srw', 'syscl', 'usr', 'sys', 'wt', 'idl']

Select line number of header row: 1

Select line number of data row:0

solaris10

Select OS type:solaris10

sysperf
mpstat
vmstat

Select OS type:mpstat


Fields from selected header row

Field: 0: Tue
Field: 1: Nov
Field: 2: 3.0
Field: 3: 10:00:49
Field: 4: EST
Field: 5: 2015.0
Field: 6: CPU
Field: 7: minf
Field: 8: mjf
Field: 9: xcal
Field: 10: intr
Field: 11: ithr
Field: 12: csw
Field: 13: icsw
Field: 14: migr
Field: 15: smtx
Field: 16: srw
Field: 17: syscl
Field: 18: usr
Field: 19: sys
Field: 20: wt
Field: 21: idl
Field: 22: Interval: each line is a new data sample

Select x axis. (ie: Date, or Interval):22

Select multi-item x axis field # (ie: mpstat: CPU) or n/N for none: 6

Select y axis numbers NOT to graph seperated by a space: ['22', '6'] 0 1 2 3 4 5
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/furrygoober/unixgraphit">Unixgraphit</a> is maintained by <a href="https://github.com/furrygoober">furrygoober</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
